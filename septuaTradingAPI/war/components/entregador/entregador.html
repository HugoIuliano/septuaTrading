<div ng-controller="EntregadorController as entregador">

    <md-button class="md-fab md-fab-bottom-right" aria-label="Entrega" ng-click="entregador.getPosition()" show-xs hide-gt-xs>
        <md-icon>directions</md-icon>
    </md-button>

    <div id="map"></div>

    <div class="float-address">

        <div>
            <md-card ng-show="entregador.screen.dataCard">
                <md-content>
                    <md-list class="md-dense" flex>
                        <md-list-item class="md-2-line">
                            <md-icon class="md-avatar-icon">store</md-icon>
                            <div class="md-list-item-text">
                                <h3> {{ entregador.vendedor.nome }} </h3>
                                <p> {{ entregador.vendedor.endereco }} </p>
                            </div>
                        </md-list-item>
                    </md-list>
                </md-content>
            </md-card>
        </div>

        <div style="margin: 8px;" ng-show="entregador.screen.dataCard">
            <md-autocomplete md-no-cache="entregador.screen.autocomplete.noCache"
                             md-selected-item="entregador.entrega.endAddress"
                             md-search-text="entregador.endSearchText"
                             md-selected-item-change="entregador.destinationSelected(item)"
                             md-items="item in entregador.searchAddress(entregador.endSearchText)"
                             md-item-text="item.formatted_address"
                             md-min-length="5"
                             placeholder="Informe o local de entrega"
                             md-autofocus
                             ng-disabled="entregador.entrega.id != null">
                 <md-item-template>
                     <span md-highlight-text="entregador.endSearchText" md-highlight-flags="^i">{{ item.formatted_address }}</span>
                 </md-item-template>
                 <md-not-found>
                     No address matching "{{ entregador.endSearchText }}" were found.
                 </md-not-found>
             </md-autocomplete>
        </div>

        <div ng-show="entregador.screen.dataCard">
            <md-card layout-padding>
                <div layout="row" flex="100">
                    <md-input-container flex="33">
                        <label>Tempo</label>
                        <input ng-model="entregador.entrega.tempo" type="text" disabled>
                    </md-input-container>
                    <md-input-container flex="33">
                        <label>Distância</label>
                        <input ng-model="entregador.entrega.distancia" type="text" disabled>
                    </md-input-container>
                    <md-input-container flex="33">
                        <label>Preço</label>
                        <input ng-model="entregador.entrega.preco" type="text" st-money ng-disabled="entregador.entrega.id != null">
                    </md-input-container>
                </div>
                <div layout="row" flex="100">
                    <md-input-container flex="100">
                        <label>Produto</label>
                        <input ng-model="entregador.entrega.produto" type="text" ng-disabled="entregador.entrega.id != null">
                    </md-input-container>
                </div>
                <div layout="row" flex="100">
                    <md-input-container flex="65">
                        <label>Nome</label>
                        <input ng-model="entregador.entrega.nome" type="text" ng-disabled="entregador.entrega.id != null">
                    </md-input-container>

                    <md-input-container flex="35">
                        <label>Documento</label>
                        <input ng-model="entregador.entrega.documento" type="text" ng-disabled="entregador.entrega.id != null">
                    </md-input-container>
                </div>
                <div layout="row" layout-align="end center" ng-show="entregador.entrega.id != null">
                    <md-button class="md-secundary" ng-click="entregador.hideDelivery()">cancelar</md-button>
                    <md-button class="md-raised md-primary" ng-click="entregador.addDelivery()">entregar</md-button>
                </div>
                <!-- <div layout="row" layout-align="end center" ng-show="entregador.entrega.id != null">
                    <md-button class="md-secundary" ng-click="entregador.hideEntrega()">fechar</md-button>
                </div> -->
            </md-card>
        </div>
    </div>
</div>
